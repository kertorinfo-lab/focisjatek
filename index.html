<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Football Legend - A Karrier</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>

    <div class="loading-screen" id="loadingScreen">
        <svg class="football-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#ffffff" d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM152 352h32v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V320c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32s-32-14.3-32-32V352H152zM280 288c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32V320c0-17.7-14.3-32-32-32H280zm64-224c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32H344zM120 96c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32s32-14.3 32-32V128c0-17.7-14.3-32-32-32zm88 64c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32H208z"/></svg>
        <h1 class="loading-title">Football Legend</h1>
    </div>

    <div class="character-creator-container hidden" id="characterCreator">
        <div class="form-carousel" id="formCarousel">
            <div class="form-step">
                <h2>Add meg a neved</h2>
                <p class="form-description">Ez a név fog megjelenni a mezeken és a sajtóban.</p>
                <input type="text" id="playerName" placeholder="pl. Minta János" required>
                <div class="navigation-buttons" style="justify-content: flex-end;"><button class="button next-btn">Tovább &rarr;</button></div>
            </div>
            <div class="form-step">
                <h2>Válaszd ki a nemzetiséged</h2>
                <p class="form-description">Melyik országot képviseled a nemzetközi porondon?</p>
                <div class="custom-select-wrapper">
                    <div class="select-button" id="nationalitySelect">
                        <div class="selected-option" data-value="hu"><img src="https://flagcdn.com/w40/hu.png" alt="Magyar zászló"><span>Magyar</span></div><span>&#9660;</span>
                    </div>
                    <div class="select-options">
                        <div class="option" data-value="hu" data-name="Magyar"><img src="https://flagcdn.com/w40/hu.png" alt="Magyar zászló">Magyar</div>
                        <div class="option" data-value="gb-eng" data-name="Angol"><img src="https://flagcdn.com/w40/gb-eng.png" alt="Angol zászló">Angol</div>
                        <div class="option" data-value="de" data-name="Német"><img src="https://flagcdn.com/w40/de.png" alt="Német zászló">Német</div>
                    </div>
                </div>
                <div class="navigation-buttons"><button class="button prev-btn">&larr; Vissza</button><button class="button next-btn">Tovább &rarr;</button></div>
            </div>
            <div class="form-step">
                <h2>Állítsd be a kezdő erőnléted</h2>
                <p class="form-description">Ez határozza meg a kezdő képességeidet a pályán.</p>
                <div class="slider-group">
                    <div id="sliderValue" class="slider-value">60</div>
                    <input type="range" id="potentialSlider" min="20" max="100" value="60">
                </div>
                <div class="navigation-buttons"><button class="button prev-btn">&larr; Vissza</button><button class="button next-btn">Tovább &rarr;</button></div>
            </div>
            <div class="form-step">
                <h2>Készen állsz a nagy lépésre?</h2>
                <p style="text-align: center; color: var(--text-muted);">Egy top csapat szerződést ajánl. Fogadd el, hogy elindítsd a karriered!</p>
                <div class="navigation-buttons">
                    <button class="button prev-btn">&larr; Vissza</button>
                    <button class="button submit-btn" id="startGameButton">Szerződés Aláírása</button>
                </div>
            </div>
        </div>
    </div>

    <div class="overlay hidden" id="animationOverlay">
        <div class="scene-container">
            <svg id="animation-svg" viewBox="0 0 800 450"></svg>
        </div>
        <div id="flash-overlay"></div>
        <div class="final-message" id="finalMessage">
            <h1 id="final-team-name"></h1>
            <p>Üdv a csapatban!</p>
        </div>
    </div>
    
    <div class="overlay hidden" id="pressConferenceOverlay">
        <div class="scene-container press-conference-scene">
            <svg id="press-conference-svg" viewBox="0 0 800 450"></svg>
        </div>
        <div class="press-conference-ui" id="pressConferenceUI">
            <h2 id="journalist-question">A kérdés helye...</h2>
            <div class="answers-grid" id="answersGrid"></div>
            <div id="pressSummary" style="display: none;">
                 <button class="button continue-btn" id="continueBtn">Karrier Folytatása</button>
            </div>
        </div>
    </div>
    
    <div class="overlay hidden" id="matchResultOverlay">
        <div class="card">
            <div class="match-result-header">
                <div class="match-result-team">
                    <img id="resultHomeLogo" src="" alt="Hazai csapat logó">
                    <h3 id="resultHomeName">Hazai</h3>
                </div>
                <div class="match-result-score" id="resultScore">0 - 0</div>
                <div class="match-result-team">
                    <img id="resultAwayLogo" src="" alt="Vendég csapat logó">
                    <h3 id="resultAwayName">Vendég</h3>
                </div>
            </div>
            <div class="match-summary">
                <h4>Teljesítményed</h4>
                <p id="resultPlayerPerformance">Gólok: 0, Gólpasszok: 0</p>
                <h4>Jutalom</h4>
                <p id="resultEarnings">Fizetés: €0, Bónusz: €0</p>
            </div>
            <button class="button continue-btn" id="matchResultContinueBtn">Tovább</button>
        </div>
    </div>
    
    <div id="matchSimulatorOverlay" class="overlay hidden">
        <div class="simulator-container">
            <div class="sim-header">
                <div class="sim-team sim-team-home">
                    <span id="simHomeName">Hazai</span>
                </div>
                <div class="sim-score-time">
                    <span id="simScore">0 - 0</span>
                    <span id="simTime">00:00</span>
                </div>
                <div class="sim-team sim-team-away">
                    <span id="simAwayName">Vendég</span>
                </div>
            </div>
            <div id="pitch-enter-banner" class="pitch-enter-banner hidden">
                <p><span id="bannerPlayerName"></span> a pályán!</p>
            </div>
            <div id="commentary-timeline" class="commentary-timeline">
                <!-- Események dinamikusan töltődnek fel ide -->
            </div>
            <button id="sim-pause-btn" class="sim-pause-btn"><i class="fas fa-pause"></i></button>
        </div>
    </div>

    <div class="overlay hidden" id="matchGameOverlay">
        <div class="game-ui-top">
             <div class="match-scoreboard">
                <span id="gameHomeName">HUN</span>
                <div class="score-box">
                    <span id="gameScore">0 - 0</span>
                    <span id="gameTime">00:00</span>
                </div>
                <span id="gameAwayName">USA</span>
            </div>
        </div>
        <canvas id="gameCanvas"></canvas>
        <div class="mobile-controls">
            <div id="joystick-zone" class="joystick-zone">
                <div id="joystick-handle" class="joystick-handle"></div>
            </div>
            <div class="action-buttons-zone">
                <button id="pass-btn" class="action-btn"><i class="fas fa-users"></i><span>Pass</span></button>
                <button id="shoot-btn" class="action-btn shoot"><i class="fas fa-futbol"></i><span>Shoot</span></button>
            </div>
        </div>
    </div>

    <div class="main-hub hidden" id="mainHub">
        <nav class="sidebar">
            <button class="nav-btn active" data-screen="dashboardScreen" data-tooltip="Irányítópult" aria-label="Irányítópult"><i class="fas fa-tachometer-alt"></i></button>
            <button class="nav-btn" data-screen="leagueScreen" data-tooltip="Bajnokság" aria-label="Bajnokság"><i class="fas fa-trophy"></i></button>
        </nav>
        <div class="hub-content-wrapper">
            <header class="top-bar">
                <button id="profileBtn" class="profile-btn">
                    <i class="fas fa-user"></i> 
                    <span id="headerPlayerName" class="hide-on-mobile">Játékos Neve</span>
                </button>
                <div class="currency-display">
                    <div class="currency-item" id="coinStoreBtn" data-tooltip="Pénz"><i class="fas fa-coins"></i><span id="headerPlayerBalance">0</span></div>
                    <div class="currency-item" id="diamondStoreBtn" data-tooltip="Gyémánt"><i class="fas fa-gem"></i><span id="headerPlayerDiamonds">0</span></div>
                </div>
            </header>
            <main class="main-content">
                <div id="dashboardScreen" class="screen">
                    <div class="dashboard-grid">
                        <div class="dashboard-card player-profile-card">
                            <div class="card-header">
                                <img id="hubPlayerTeamLogo" class="team-logo" src="" alt="Csapat Logó">
                                <div class="player-info">
                                    <h4 id="hubPlayerName">Játékos Neve</h4>
                                    <p id="hubPlayerTeamName">Csapat Neve</p>
                                </div>
                            </div>
                            <p><strong>Értékelés:</strong> <span id="hubPlayerRating">60</span></p>
                            <p><strong>Nemzetiség:</strong> <span id="hubPlayerNationality">Magyar</span></p>
                        </div>
                        <div class="dashboard-card">
                            <div class="card-header"><i class="fas fa-calendar-alt"></i><h3>Következő Meccs</h3></div>
                            <p><strong>Ellenfél:</strong> <span id="hubNextOpponent">Nincs sorsolás</span></p>
                            <button class="button next-btn" style="width: 100%; margin-top: 10px;" id="playMatchBtn">Meccs Indítása</button>
                        </div>
                        <div class="dashboard-card">
                            <div class="card-header"><i class="fas fa-list-ol"></i><h3>Bajnokság</h3></div>
                            <p><strong>Helyezés:</strong> <span id="hubLeaguePosition">-.</span></p>
                            <p><strong>Forduló:</strong> <span id="hubMatchday">0 / 14</span></p>
                        </div>
                    </div>
                </div>
                <div id="leagueScreen" class="screen hidden">
                    <div class="league-table-container">
                        <h2>Bajnoki Tabella</h2>
                        <table class="league-table">
                            <thead><tr><th>#</th><th>Csapat</th><th class="hide-on-mobile">M</th><th class="hide-on-mobile">Gy</th><th class="hide-on-mobile">D</th><th class="hide-on-mobile">V</th><th>GK</th><th>P</th></tr></thead>
                            <tbody id="leagueTableBody"></tbody>
                        </table>
                    </div>
                </div>
                 <div id="profileScreen" class="screen hidden profile-screen">
                    <h2 id="profilePlayerName">Játékos Profilja</h2>
                    <div class="stats-grid">
                        <div class="stat-card"><div class="stat-value" id="profileGoals">0</div><div class="stat-label">Gólok</div></div>
                        <div class="stat-card"><div class="stat-value" id="profileAssists">0</div><div class="stat-label">Gólpasszok</div></div>
                        <div class="stat-card"><div class="stat-value" id="profileMatches">0</div><div class="stat-label">Meccsek</div></div>
                        <div class="stat-card"><div class="stat-value" id="profileTrophies">0</div><div class="stat-label">Trófeák</div></div>
                    </div>
                </div>
            </main>
        </div>
        <nav class="bottom-bar">
            <button class="nav-btn active" data-screen="dashboardScreen" aria-label="Irányítópult"><i class="fas fa-tachometer-alt"></i></button>
            <button class="nav-btn" data-screen="leagueScreen" aria-label="Bajnokság"><i class="fas fa-trophy"></i></button>
        </nav>
    </div>
    <script src="script.js"></script>
</body>
</html>
